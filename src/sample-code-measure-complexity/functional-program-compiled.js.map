{"version":3,"sources":["functional-program.js"],"names":[],"mappings":"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","file":"functional-program-compiled.js","sourcesContent":["\nvar map = R.curry(function (f, container) {\n    return container.map(f);\n});\n\nvar chain = R.curry(function (f, container) {\n    return container.chain(f);\n});\n\nvar lift = R.curry(function (f, value) {\n    return Maybe.fromNullable(value).map(f);\n});\n\nvar liftIO = function (value) {\n    return IO.of(value);\n};\n\nvar appendToTable = function (elementId) {\n    return function (row) {\n        $('#' + elementId + ' tr:last').after(row);\n        return $('#' + elementId + ' tr').length - 1; // exclude header\n    };\n};\n\nvar debugLog = _.partial(logger, 'console', 'basic', 'IO Monad Example', 'TRACE');\n\nvar trace = R.curry(function (msg, obj) {debugLog(msg + ':' + obj);});\n\nvar trim = function (str) {\n    return str.replace(/^\\s*|\\s*$/g, '');\n};\n\nvar normalize = function (str) {\n    return str.replace(/\\-/g, '');\n};\n\nvar cleanInput = R.compose(R.tap(trace), normalize, R.tap(trace), trim);\n\nvar populateRow = function (columns) {\n    var cell_t = _.template('<td><%= a %></td>');\n    var row_t  = _.template('<tr><%= a %></tr>');\n    var obj = function(a) {\n        return {'a': a};\n    };\n    var row = R.compose(row_t, obj, R.join(''), R.map(cell_t), R.map(obj));\n    return row(columns);\n};\n\nvar safeFetchRecord = R.curry(function (store, studentId) {\n    return Either.fromNullable(store.get(studentId))\n        .getOrElseThrow('Student not found with ID: ' + studentId);\n});\n\nvar validLength = function(len, str) {\n    return str.length === len;\n};\n\nvar checkLengthSsn = function (str) {\n    return Either.of(str).filter(validLength.bind(undefined, 9))\n        .getOrElseThrow('Input: ' + str + ' is not a valid SSN number');\n};\nvar findStudent = safeFetchRecord(Store('students'));\n\n// Alternate implementation\nvar addToRoster = R.compose(\n    map(appendToTable('studentRoster')),\n    liftIO,\n    chain(populateRow),\n    map(R.props(['ssn', 'firstname', 'lastname'])),\n    map(findStudent),\n    map(checkLengthSsn),\n    lift(cleanInput));\n"]}